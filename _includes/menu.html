{%- if include.menu -%}
<nav>
  {%- for item in include.menu -%}
    {%- assign node = site.pages | where: "name", item.file | first -%}
    {%- assign url = item.url | default: node.url -%}
    {%- assign title = item.title | default: node.title -%}
    {%- assign is_external = url contains 'http' -%}
    
    <a 
      href="{% if is_external %}{{ url }}{% else %}{{ url | relative_url }}{% endif %}"
      {% if is_external %}target="_blank" rel="noopener noreferrer"{% endif %}
    >
      {%- if item.icon -%}
        <svg aria-label="{{ title }}" width="1em" height="1em">
          <use xlink:href="{{ "/assets/fontawesome/icons.svg" | relative_url }}#{{ item.icon }}"></use>
        </svg>
      {%- else -%}
        {{ title }}
      {%- endif -%}
    </a>
  {%- endfor -%}
</nav>
{%- endif -%}
